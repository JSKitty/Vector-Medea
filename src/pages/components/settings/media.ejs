<div id ="settingsMedia">
    <h3 class="mt-4">Media</h3>
    <form class="form mx-auto">
        <p> In this section, you can configure the media settings of your server. 
            It provides you with the flexibility to customize the media settings according to your specific requirements. 
        </p>
        <label for="media.returnURL" class="mt-2 mb-1 fw-bold">Return URL</label>
        <p>Specify the return URL for the media uploads. This URL will be used to return the uploaded media to the client.</p>
        <input  type="text" 
                id="media.returnURL" 
                name="media.returnURL" 
                class="form-control" 
                value="<%= locals.settingsMedia['returnURL'] %>" 
                placeholder="default: https://servername/media"
                required
                >
        <label for="media.allowPublicUploads" class="mt-4 mb-1 fw-bold">Allow public uploads</label>
        <p>If disabled, only registered pubkeys can upload files.</p>
        <div class="form-check form-switch">
        <input  class="form-check-input" 
                type="checkbox" 
                value="<%= locals.settingsMedia['allowPublicUploads'] ? true : false %>" 
                <%= locals.settingsMedia['allowPublicUploads'] ? 'checked' : '' %> 
                name="media.allowPublicUploads" 
                id="media.allowPublicUploads"
                >
        </div>
        <label for="media.transform.enabled" class="mt-4 mb-1 fw-bold">Enable image and video resizing</label>
        <p>Enable or disable the image and video resizing functionality of the server. 
        If enabled, the server will resize the images and videos to the specified target size.</p>
        <div class="form-check form-switch">
        <input  class="form-check-input" 
                type="checkbox" 
                value="<%= locals.settingsMedia['transform']['enabled'] ? true : false %>" 
                <%= locals.settingsMedia['transform']['enabled'] ? 'checked' : '' %> 
                name="media.transform.enabled" 
                id="media.transform.enabled"
                >
        </div>
        <label for="media.maxMBfilesize" class="mt-4 mb-1 mt-3 fw-bold">Max file size (MB)</label>
        <p>Specify the maximum file size allowed for uploads in megabytes.</p>
        <div class="col-12">
            <input  type="text" 
                    id="media.maxMBfilesize" 
                    name="media.maxMBfilesize" 
                    class="form-control" 
                    value="<%= locals.settingsMedia['maxMBfilesize'] %>" 
                    placeholder="Max file size (in MB)" 
                    required 
                    
                    >
        </div>
        <label class="mt-2 mb-1 fw-bold">Image and video resizing</label>
        <p>In this section, you can specify the default target size for image and video uploads in pixels. 
        By setting the target size, you can optimize the filesize and disk space of your server.</p>
        <div class="row">
        <label class="mb-1 mt-1">Images</label>
            <div class="col-4 col-md-3">
                <input  type="number" 
                        id="media.transform.media.image.width" 
                        name="media.transform.media.image.width" 
                        class="form-control" 
                        placeholder="Width" 
                        value="<%= locals.settingsMedia['transform']['media']['image']['width'] %>" 
                        >
            </div>
            <div class="col-4 col-md-3">
            <input  type="number" 
                    id="media.transform.media.image.height" 
                    name="media.transform.media.image.height" 
                    class="form-control" 
                    placeholder="Width" 
                    value="<%= locals.settingsMedia['transform']['media']['image']['height'] %>" 
                    >
        </div>
        </div>
        <div class="row">
        <label class="mt-3 mb-1">Videos</label>
        <div class="col-4 col-md-3">
                <input  type="number" 
                        id="media.transform.media.video.width" 
                        name="media.transform.media.video.width" 
                        class="form-control" 
                        placeholder="Width" 
                        value="<%= locals.settingsMedia['transform']['media']['video']['width'] %>" 
                        >
            </div>
            <div class="col-4 col-md-3">
                        <input  type="number" 
                                id="media.transform.media.video.height" 
                                name="media.transform.media.video.height" 
                                class="form-control" 
                                placeholder="Width" 
                                value="<%= locals.settingsMedia['transform']['media']['video']['height'] %>" 
                                >
            </div>
        </div>
        <label class="mt-4 mb-1 fw-bold">AI media inspector engine</label>
        <p> In this section, you can configure the AI media inspector engine settings of your server. 
            You can choose between a local or remote AI media inspector engine.
        </p>
        <label for="media.mediainspector.enabled" class="mt-2 mb-2 fw-bold">Enable AI media inspector</label>
        <p>Enable or disable the AI media inspector.
        </p>
        <div class="form-check form-switch">
                <input  class="form-check-input" 
                        type="checkbox" 
                        value="<%= locals.settingsMedia['mediainspector']['enabled'] ? true : false %>" 
                        <%= locals.settingsMedia['mediainspector']['enabled'] ? 'checked' : '' %> 
                        name="media.mediainspector.enabled" 
                        id="media.mediainspector.enabled"
                        >
        </div>
        <label for="media.mediainspector.type" class="mt-3 mb-1 fw-bold">Engine type</label>
        <div class="col-3 col-md-2">
            <select id="media.mediainspector.type" 
            name="media.mediainspector.type" 
            class="form-select">
            <option value="local" <%= locals.settingsMedia['mediainspector']['type'] == 'local' ? 'selected' : '' %>>local</option>
            <option value="remote" <%= locals.settingsMedia['mediainspector']['type'] == 'remote' ? 'selected' : '' %>>remote</option>
            </select>
        </div>
        <div>
            <label for="media.mediainspector.local.modelName" class="mt-3 mb-1 fw-bold">Local model name</label>
            <input  type="text" 
                    id="media.mediainspector.local.modelName" 
                    name="media.mediainspector.local.modelName" 
                    class="form-control" 
                    value="<%= locals.settingsMedia['mediainspector']['local']['modelName'] %>" 
                    placeholder="Local model" 
                    >
            <p>You can choose any model from Hugging Face. <a class="link-offset-2" href="https://huggingface.co/models" target="_blank">Check the models here</a>. It will 
            be downloaded and used to scan the media files.</p>
            </p>
        </div>
        <p> Specify the URL of the remote AI media inspector. This URL will be used to scan the media files</p>
        <label for="media.mediainspector.remote.endpoint" class="mt-2 mb-1 fw-bold">Media inspector URL</label>
        <input type="text" 
                id="media.mediainspector.remote.endpoint" 
                name="media.mediainspector.remote.endpoint" 
                class="form-control" 
                value="<%= locals.settingsMedia['mediainspector']['remote']['endpoint'] %>" 
                placeholder="Media inspector" 
                >
        <label for="media.mediainspector.remote.apikey" class="mt-2 mb-1 fw-bold">Media inspector apikey</label>
        <input type="text" 
                id="media.mediainspector.remote.apikey" 
                name="media.mediainspector.remote.apikey" 
                class="form-control" 
                value="<%= locals.settingsMedia['mediainspector']['remote']['apikey'] %>" 
                placeholder="Media inspector apikey" 
                >
        <div class="col-12 col-md-3 mb-5 mt-4 pb-5 pb-lg-0 mb-lg-2">
            <button class="btn btn-lg mb-4 btn-primary w-100" name="Submit" type="button" onclick="saveSettings()">Save</button>
        </div>
    </form>
</div>